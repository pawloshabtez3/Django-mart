<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        ocean: {
                            50: '#e6f7ff',
                            100: '#c8eafe',
                            500: '#1fb6ff',
                            600: '#0ea5e9',
                            700: '#0284c7'
                        }
                    }
                }
            }
        }
    </script>

    <title>{% block title %}{% endblock %} | Puddle</title>

    <style>
        /* Force strong readability inside form fields */
        input, textarea, select {
            color: #0b1224 !important;
            caret-color: #0b1224;
            background-color: #ffffff;
        }

        ::placeholder {
            color: #475569 !important;
            opacity: 1;
        }
    </style>
</head>

<body class="min-h-screen bg-gradient-to-b from-slate-900 via-slate-950 to-slate-900 text-slate-100">
    <div class="fixed inset-x-0 top-0 z-30 border-b border-white/10 bg-slate-900/80 backdrop-blur">
        <div class="max-w-6xl mx-auto flex items-center justify-between px-6 py-4">
            <a href="/" class="text-lg font-semibold tracking-tight">Puddle</a>
            <div class="hidden md:flex items-center gap-4 text-sm font-medium">
                <a href="{% url 'item:items' %}" class="px-3 py-2 rounded-lg hover:bg-white/10">Browse</a>
                <a href="{% url 'item:new' %}" class="px-3 py-2 rounded-lg hover:bg-white/10">Sell an item</a>
                {% if request.user.is_authenticated %}
                    <a href="{% url 'conversation:inbox' %}" class="px-3 py-2 rounded-lg hover:bg-white/10">Inbox</a>
                    <a href="{% url 'dashboard:index' %}" class="px-3 py-2 rounded-lg hover:bg-white/10">Dashboard</a>
                {% else %}
                    <a href="{% url 'core:login' %}" class="px-3 py-2 rounded-lg hover:bg-white/10">Log in</a>
                    <a href="{% url 'core:signup' %}" class="px-3 py-2 rounded-lg bg-ocean-600 text-white hover:bg-ocean-700">Join now</a>
                {% endif %}
            </div>
        </div>
    </div>

    <main class="max-w-6xl mx-auto px-6 pt-28 pb-16">
        {% block content %}
        {% endblock %}
    </main>

    <footer class="border-t border-white/10 bg-slate-900/80 backdrop-blur">
        <div class="max-w-6xl mx-auto px-6 py-10 grid gap-8 md:grid-cols-3 text-sm text-slate-300">
            <div>
                <p class="text-lg font-semibold text-white">Puddle</p>
                <p class="mt-3 leading-relaxed text-slate-400">A curated marketplace for trading physical goods with confidence.</p>
            </div>
            <div>
                <p class="text-white font-semibold">Explore</p>
                <ul class="mt-3 space-y-2">
                    <li><a class="hover:text-ocean-100" href="{% url 'item:items' %}">Browse items</a></li>
                    <li><a class="hover:text-ocean-100" href="{% url 'item:new' %}">Sell an item</a></li>
                    <li><a class="hover:text-ocean-100" href="{% url 'core:contact' %}">Contact</a></li>
                </ul>
            </div>
            <div>
                <p class="text-white font-semibold">Stay in touch</p>
                <p class="mt-3 text-slate-400">Get tips for safer trading and early access to featured drops.</p>
                <div class="mt-4 flex gap-2">
                    <input class="flex-1 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm focus:border-ocean-500 focus:outline-none" placeholder="Email address" type="email">
                    <button class="rounded-lg bg-ocean-600 px-4 py-2 text-sm font-semibold text-white hover:bg-ocean-700">Notify me</button>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const nav = document.querySelector('body > div');
        let lastScroll = 0;
        window.addEventListener('scroll', () => {
            const current = window.scrollY;
            if (current > lastScroll && current > 80) {
                nav.classList.add('translate-y-[-100%]', 'transition');
            } else {
                nav.classList.remove('translate-y-[-100%]');
                nav.classList.add('transition');
            }
            lastScroll = current;
        });
    </script>
</body>
</html>